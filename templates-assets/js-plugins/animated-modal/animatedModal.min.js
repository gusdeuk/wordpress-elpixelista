/*!=========================================
 * MODIFIED BY GUS!!!!
 * animatedModal.js: Version 1.0
 * author: JoÃ£o Pereira
 * website: http://www.joaopereira.pt
 * email: joaopereirawd@gmail.com
 * Licensed MIT 
=========================================*/
(function(o){o.fn.animatedModal=function(n){function a(){p(),s=!1,d.beforeClose(),r.hasClass(d.modalTarget+"-on")&&(r.removeClass(d.modalTarget+"-on"),r.addClass(d.modalTarget+"-off")),r.hasClass(d.modalTarget+"-off")&&(r.removeClass(d.animatedIn),r.addClass(d.animatedOut),r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t))}function t(){r.css({"z-index":d.zIndexOut}),d.afterClose()}function i(){d.afterOpen()}var e=o(this),d=o.extend({modalTarget:"animatedModal",position:"fixed",width:"100%",height:"100%",top:"0px",left:"0px",zIndexIn:"9999",zIndexOut:"-9999",color:"#39BEB9",opacityIn:"1",opacityOut:"0",animatedIn:"zoomIn",animatedOut:"zoomOut",animationDuration:".6s",overflow:"auto",beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}},n),l=o(".close-"+d.modalTarget),s=!1,m=o(e).attr("href"),r=o("body").find("#"+d.modalTarget),f="#"+r.attr("id");r.addClass("animated"),r.addClass(d.modalTarget+"-off");var c={position:d.position,width:d.width,height:d.height,top:d.top,left:d.left,"background-color":d.color,"overflow-y":d.overflow,"z-index":d.zIndexOut,opacity:d.opacityOut,"-webkit-animation-duration":d.animationDuration,"-moz-animation-duration":d.animationDuration,"-ms-animation-duration":d.animationDuration,"animation-duration":d.animationDuration};r.css(c),e.click(function(o){o.preventDefault(),u(),s=!0,m==f&&(r.hasClass(d.modalTarget+"-off")&&(r.removeClass(d.animatedOut),r.removeClass(d.modalTarget+"-off"),r.addClass(d.modalTarget+"-on")),r.hasClass(d.modalTarget+"-on")&&(d.beforeOpen(),r.css({opacity:d.opacityIn,"z-index":d.zIndexIn}),r.addClass(d.animatedIn),r.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",i)))}),l.click(function(o){o.preventDefault(),a()}),o(document).keydown(function(o){27==o.keyCode&&s&&a()});var u=function(){if(o(document).height()>o(window).height()){var n=o("html").scrollTop()?o("html").scrollTop():o("body").scrollTop();o("html").addClass("noscroll").css("top",-n)}},p=function(){var n=parseInt(o("html").css("top"));o("html").removeClass("noscroll"),o("html,body").scrollTop(-n)}}})(jQuery);